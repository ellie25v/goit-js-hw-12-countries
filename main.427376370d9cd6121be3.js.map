{"version":3,"sources":["webpack:///./index.js","webpack:///./fetchCountries.js","webpack:///./countryList.hbs"],"names":["debounce","require","refs","input","document","querySelector","div","onInput","inputValue","value","search","fetch","then","data","json","length","PNotify","error","title","text","clearOutput","insertAdjacentHTML","reduce","acc","country","name","closeAll","countriesTemplate","showCountry","catch","innerHTML","addEventListener","Handlebars","module","exports","template","container","depth0","helpers","partials","escapeExpression","lambda","stack1","alias1","alias2","capital","population","each","call","nullContext","languages","program","noop","flag"],"mappings":"8LAMA,MAAMA,EAAWC,EAAQ,QAEnBC,EAAO,CACTC,MAAOC,SAASC,cAAc,mBAC9BC,IAAKF,SAASC,cAAc,kBAShC,MAAME,EAAUP,GAAS,WACrB,IAAIQ,EAAaN,EAAKC,MAAMM,MCpBjB,IAAUC,EDsBF,KAAfF,GCtBiBE,ED0BNF,ECvBVG,MAFU,yCAGF,GAAED,KAEdE,KAAKC,GACJA,EAAKC,SDmBoBF,KAAKC,IACxBA,EAAKE,OAAS,IACdC,IAAQC,MAAM,CACVC,MAAM,WACRC,KAAM,gEAERC,KAEKP,EAAKE,QAAU,GAAKF,EAAKE,QAAU,IACxCK,IACAlB,EAAKI,IAAIe,mBAAmB,YAAaR,EAAKS,OAAO,CAACC,EAAKC,IACtDD,GAAQ,OAAMC,EAAQC,YAAc,KACzCT,IAAQU,YAEY,IAAhBb,EAAKE,SACTK,IA3BZ,SAAqBI,GACjBtB,EAAKI,IAAIe,mBAAmB,YAAaM,IAAkB,CAACH,aA2BpDI,CAAYf,GACZG,IAAQU,cAEXG,MAAMZ,GAASA,GAtBhBG,MAuBD,KAIP,SAASA,IACLlB,EAAKI,IAAIwB,UAAY,GAHzB5B,EAAKC,MAAM4B,iBAAiB,QAASxB,I,qBEhDrC,IAAIyB,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,EAAI,SAASC,EAAUC,EAAOC,EAAQC,EAAS1B,GAC5G,MAAO,oDACLuB,EAAUI,iBAAiBJ,EAAUK,OAAkB,MAAVJ,EAAiBA,EAAOZ,KAAOY,EAASA,IACrF,WACJ,SAAW,CAAC,EAAE,YAAY,KAAO,SAASD,EAAUC,EAAOC,EAAQC,EAAS1B,GAC1E,IAAI6B,EAAQC,EAAOP,EAAUK,OAAQG,EAAOR,EAAUI,iBAExD,MAAO,mCACHI,EAAOD,EAAkB,MAAVN,EAAiBA,EAAOZ,KAAOY,EAASA,IACvD,iJACAO,EAAOD,EAAkB,MAAVN,EAAiBA,EAAOQ,QAAUR,EAASA,IAC1D,iGACAO,EAAOD,EAAkB,MAAVN,EAAiBA,EAAOS,WAAaT,EAASA,IAC7D,sGAC6S,OAA3SK,EAASJ,EAAQS,KAAKC,KAAe,MAAVX,EAAiBA,EAAUD,EAAUa,aAAe,GAAe,MAAVZ,EAAiBA,EAAOa,UAAYb,EAAQ,CAAC,KAAO,OAAO,KAAO,GAAG,GAAKD,EAAUe,QAAQ,EAAGtC,EAAM,GAAG,QAAUuB,EAAUgB,KAAK,KAAOvC,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,QAAkB6B,EAAS,IAC7T,oFACAE,EAAOD,EAAkB,MAAVN,EAAiBA,EAAOgB,KAAOhB,EAASA,IACvD,kEACJ,SAAU,M","file":"main.427376370d9cd6121be3.js","sourcesContent":["import './styles.css';\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify.js';\nimport PNotifyButtons from '../node_modules/pnotify/dist/es/PNotifyButtons.js';\nimport countriesTemplate from './countryList.hbs';\nimport fetchCountries from './fetchCountries.js';\n\nconst debounce = require('lodash.debounce');\nimport '../node_modules/pnotify/dist/PNotifyBrightTheme.css'\nconst refs = {\n    input: document.querySelector('#inputCountries'),\n    div: document.querySelector('#country__div'),\n\n};\n\nfunction showCountry(country) {\n    refs.div.insertAdjacentHTML('beforeend', countriesTemplate({country}));\n};\n\n\nconst onInput = debounce(function input() {\n    let inputValue = refs.input.value;\n\n    if (inputValue === '') {\n        clearOutput();\n        return;\n    } \n    fetchCountries(inputValue).then(data => {\n        if (data.length > 10) {\n            PNotify.error({\n                title:'Warning!',\n              text: 'Too many matches found. Please enter a more specific query!',\n            });\n            clearOutput();\n          }\n        else if (data.length >= 2 && data.length <= 10) {\n            clearOutput();\n            refs.div.insertAdjacentHTML('beforeend', data.reduce((acc, country) => \n                (acc += `<li>${country.name}</li>`), ''));\n            PNotify.closeAll();\n        } \n        else if(data.length === 1){\n            clearOutput();\n            showCountry(data);\n            PNotify.closeAll();\n        }\n      }).catch(error => error)  \n    }, 500)\n\nrefs.input.addEventListener('input', onInput);\n\nfunction clearOutput() {\n    refs.div.innerHTML = '';\n}","export default function (search) {\n  const baseUrl = `https://restcountries.eu/rest/v2/name/`;\n\n  return fetch(\n      baseUrl + `${search}`\n    )\n    .then(data =>\n      data.json())\n}","var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"\\n            <li class=\\\"country__language-item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression;\n\n  return \"<li>\\n<h2 class=\\\"country__name\\\">\"\n    + alias2(alias1((depth0 != null ? depth0.name : depth0), depth0))\n    + \"</h2>\\n<div class=\\\"country\\\">\\n    <div class=\\\"country__description\\\">\\n        <p class=\\\"country__capital\\\">Capital: <span data-field=\\\"capital\\\">\"\n    + alias2(alias1((depth0 != null ? depth0.capital : depth0), depth0))\n    + \"</span></p>\\n        <p class=\\\"country__population\\\">Population: <span data-field=\\\"population\\\">\"\n    + alias2(alias1((depth0 != null ? depth0.population : depth0), depth0))\n    + \"</span></p>\\n        <p class=\\\"country__languages\\\">Languages: <ul class=\\\"country__languages-list\\\">\"\n    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.languages : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":85},\"end\":{\"line\":9,\"column\":21}}})) != null ? stack1 : \"\")\n    + \"        </ul></p>\\n    </div>\\n    <div class=\\\"country__img\\\">\\n        <img src=\\\"\"\n    + alias2(alias1((depth0 != null ? depth0.flag : depth0), depth0))\n    + \"\\\" alt=\\\"flag\\\" class=\\\"country__flag\\\">\\n    </div>\\n</div>\\n</li>\";\n},\"useData\":true});"],"sourceRoot":""}